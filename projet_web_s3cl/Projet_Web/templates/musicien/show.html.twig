{% extends 'base.html.twig' %}

{% block title %}Musicien{% endblock %}

{% block body %}
    <h1>{{ musicien.prenomMusicien }} {{ musicien.nomMusicien }}</h1>

        {#<table class="table">#}
            {#<tbody>#}
            {#<tr>#}
                {#<th>Nom</th>#}
                {#<td>{{ musicien.nomMusicien }}</td>#}
            {#</tr>#}
            {#<tr>#}
                {#<th>Prénom</th>#}
                {#<td>{{ musicien.prenomMusicien }}</td>#}
            {#</tr>#}
            {#<tr>#}
                {#<th>Année de naissance</th>#}
                {#<td>{{ musicien.anneeNaissance }}</td>#}
            {#</tr>#}
            {#<tr>#}
                {#<th>Année de mort</th>#}
                {#<td>{{ musicien.anneeMort }}</td>#}
            {#</tr>#}
            {#<tr>#}
                {#<th>Photo</th>#}
                {#<td><img src="data:image/png;base64,{{ musicien.getphoto64 }}"></td>#}
            {#</tr>#}
            {#<tr>#}
                {#<th>Instrument</th>#}
                {#<td>{{ musicien.instrument.nomInstrument }}</td>#}
            {#</tr>#}
            {#<tr>#}
                {#<th>Pays</th>#}
                {#<td>{{ musicien.pays.nomPays }}</td>#}
            {#</tr>#}

            {#<tr>#}
                {#<th>Oeuvres</th>#}
                {#TODO avec le changement de requête dans musicien/oeuvres()#}
                {#<td>#}
                    {#<ul>#}
                        {#{% for oeuvre in oeuvres %}#}
                            {#<li><a href="{{ path('oeuvre_show', {'codeOeuvre': oeuvre.codeOeuvre}) }}">{{ oeuvre.titreOeuvre }}</a></li>#}

                        {#{% else %}#}
                            {#<p colspan="7">Pas d'oeuvres</p>#}
                        {#{% endfor %}#}
                    {#</ul>#}
                {#</td>#}
            {#</tr>#}


            {#</tbody>#}
        {#</table>#}


    <div class="container mt-4">
        {% for message in app.flashes('alerte') %}
            <div class="alert alert-info">
                {{ message }}
            </div>
        {% endfor %}
        <div class="row">
            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        {{ musicien.prenomMusicien }} {{ musicien.nomMusicien }}
                    </div>
                    <div class="card-body">
                        <img src="data:image/png;base64,{{ musicien.getphoto64 }}" class="card-img-top" alt="photoMusicien">
                    </div>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="card">
                    <div class="card-header">
                        INFORMATIONS MUSICIEN
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">Informations Générales</h5>
                        <ul class="list-group list-group-flush">
                            <div href="#" class="list-group-item">
                                <div class="d-flex w-100 justify-content-between">
                                    <p>Naissance : {{ musicien.anneeNaissance }}  </p>
                                    <p>Mort :  {{ musicien.anneeMort }} </p>
                                </div>
                                <p>Pays : {{ musicien.pays.nomPays }}</p>
                            </div>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        OEUVRES
                    </div>
                    <div class="card-body">
                        <div class="list-group">
                            {% for oeuvre in oeuvres %}
                                <a href="{{ path('oeuvre_show', {'codeOeuvre': oeuvre.codeOeuvre }) }}" class="list-group-item list-group-item-action">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h5 class="">{{ oeuvre.titreOeuvre }}</h5>
                                    </div>
                                </a>
                            {% else %}
                                <div class="d-flex w-100 justify-content-between">
                                    <h5 class="">Pas d'oeuvres</h5>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <a href="{{ path('musicien_index') }}">Retour à la liste</a>

{% endblock %}